# ChameleonVPN Backend Configuration
# Copy this file to .env and update with your values

# ============================================================================
# Database Configuration
# ============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=vpnmanager
DB_PASSWORD=your_secure_password_here
DB_NAME=vpnmanager
DB_SSLMODE=disable

# ============================================================================
# API Configuration
# ============================================================================
API_KEY=your_api_key_here
JWT_SECRET=your_jwt_secret_key_here

# ============================================================================
# Redis Configuration for Rate Limiting
# ============================================================================

# Enable or disable rate limiting (default: true)
RATE_LIMIT_ENABLED=true

# Redis connection settings
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================================================
# Rate Limit Configuration
# ============================================================================

# OTP Send Rate Limit
# Maximum OTP requests per phone number within the time window
RATE_LIMIT_OTP_MAX=5
RATE_LIMIT_OTP_WINDOW_MINUTES=60

# Login Rate Limit
# Maximum login attempts per phone number within the time window
RATE_LIMIT_LOGIN_MAX=10
RATE_LIMIT_LOGIN_WINDOW_MINUTES=60

# Registration Rate Limit
# Maximum registration attempts per IP address within the time window
RATE_LIMIT_REGISTER_MAX=3
RATE_LIMIT_REGISTER_WINDOW_MINUTES=60

# General API Rate Limit
# Maximum API requests per IP address within the time window
RATE_LIMIT_API_MAX=100
RATE_LIMIT_API_WINDOW_SECONDS=60

# ============================================================================
# Notes:
# ============================================================================
# 1. Rate limiting uses Redis as the backend store for tracking request counts
# 2. If Redis is unavailable, the system operates in DEGRADED mode (allows all requests)
# 3. Rate limit headers (X-RateLimit-*) are included in API responses
# 4. 429 status code is returned when rate limits are exceeded
# 5. Set RATE_LIMIT_ENABLED=false to completely disable rate limiting
# ============================================================================
